#pragma once

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// This is the official polynomial used by CRC-32 in PKZip, WinZip and Ethernet.
#define CRC32_POLYNOMIAL 0x04c11db7
#define CRC32BUFSZ 1024 //Used for FileCRC()

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

class CCRC32{

	public:
		KVOID Initialize(KVOID);

		KDWORD FileCRC(KCCHAR *sFileName);
		KDWORD FullCRC(KBYTE *sData, KDWORD ulLength);
		KVOID PartialCRC(KDWORD *ulInCRC, KBYTE *sData, KDWORD ulLength);

	private:
		KDWORD Reflect(KDWORD ulReflect, KCHAR cChar);
		KDWORD ulTable[256]; // CRC lookup table array.
};

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
